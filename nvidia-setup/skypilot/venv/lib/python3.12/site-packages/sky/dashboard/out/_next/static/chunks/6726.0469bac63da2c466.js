"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6726,4523],{27325:function(e,s,r){r.d(s,{Z:function(){return t}});/**
 * @license lucide-react v0.407.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,r(60998).Z)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},81260:function(e,s,r){r.d(s,{Z:function(){return t}});/**
 * @license lucide-react v0.407.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,r(60998).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},65134:function(e,s,r){r.d(s,{Z:function(){return t}});/**
 * @license lucide-react v0.407.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,r(60998).Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},47603:function(e,s,r){r.d(s,{Z:function(){return t}});/**
 * @license lucide-react v0.407.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,r(60998).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},1812:function(e,s,r){r.d(s,{X:function(){return l}});var t=r(85893),n=r(67294);let a=e=>{if(!(null==e?void 0:e.message))return"An unexpected error occurred.";let s=e.message;return s.includes("failed:")&&(s=s.split("failed:")[1].trim()),s},l=e=>{let{error:s,title:r="Error",onDismiss:l}=e,[o,i]=(0,n.useState)(!1);if((0,n.useEffect)(()=>{s&&i(!1)},[s]),!s||o)return null;let c="string"==typeof s?s:a(s);return(0,t.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-3 mb-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,t.jsx)("div",{className:"ml-3",children:(0,t.jsxs)("div",{className:"text-sm text-red-800",children:[(0,t.jsxs)("strong",{children:[r,":"]})," ",c]})})]}),(0,t.jsx)("button",{onClick:()=>{i(!0),l&&l()},className:"flex-shrink-0 ml-4 text-red-400 hover:text-red-600 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 focus:ring-offset-red-50 rounded","aria-label":"Dismiss error",children:(0,t.jsx)("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})})}},35443:function(e,s,r){r.r(s),r.d(s,{Workspaces:function(){return R},getWorkspaceClusters:function(){return z},getWorkspaceManagedJobs:function(){return D}});var t=r(85893),n=r(67294),a=r(11163),l=r(17324),o=r(37673),i=r(68764),c=r(30803),d=r(55739),u=r(1272),m=r(50326);r(53850);var x=r(1812),h=r(13626),p=r(81260),g=r(65134),f=r(47603),j=r(470),v=r(23001),w=r(9243),y=r(6378),k=r(51214),b=r(36856),C=r(47145),N=r(94545),Z=r(93225),L=r(23266),E=r(68969),S=r(41664),P=r.n(S);async function z(e){try{return(await y.ZP.get(L.getClusters)||[]).filter(s=>s.workspace===e)}catch(r){let s="Error fetching clusters for workspace ".concat(e,": ").concat(r);throw console.error(s),Error(s)}}async function D(e){try{let s=await y.ZP.get(E.getManagedJobs,[{allUsers:!0,skipFinished:!0}]);return{jobs:((null==s?void 0:s.jobs)||[]).filter(s=>s.workspace===e)}}catch(r){let s="Error fetching managed jobs for workspace ".concat(e,": ").concat(r);throw console.error(s),Error(s)}}let M=e=>{let{isPrivate:s}=e;return s?(0,t.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700 border border-gray-300",children:"Private"}):(0,t.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700 border border-green-300",children:"Public"})};function R(){let[e,s]=(0,n.useState)([]),[r,S]=(0,n.useState)({runningClusters:0,totalClusters:0,managedJobs:0}),[z,D]=(0,n.useState)(!0),[R,J]=(0,n.useState)(!0),[W,F]=(0,n.useState)(null),[O,T]=(0,n.useState)(null),[A,I]=(0,n.useState)(!0),[V,B]=(0,n.useState)({key:"name",direction:"asc"}),[q,K]=(0,n.useState)(""),[_,H]=(0,n.useState)(!1),[$,U]=(0,n.useState)({confirmOpen:!1,workspaceToDelete:null,deleting:!1,error:null}),[X,G]=(0,n.useState)({open:!1,message:"",userName:""}),[Q,Y]=(0,n.useState)(null),[ee,es]=(0,n.useState)(!1),[er,et]=(0,n.useState)(null),[en,ea]=(0,n.useState)(null),el=(0,a.useRouter)(),eo=(0,v.X)(),ei=async()=>{if(Q&&Date.now()-Q.timestamp<3e5)return Q;es(!0);try{let e=await C.x.get("/users/role");if(!e.ok){let s=await e.json();throw Error(s.detail||"Failed to get user role")}let s=await e.json(),r={role:s.role,name:s.name,timestamp:Date.now()};return Y(r),es(!1),r}catch(e){throw es(!1),e}},ec=async(e,s)=>{try{let r=await ei();if("admin"!==r.role)return G({open:!0,message:e,userName:r.name.toLowerCase()}),!1;return s(),!0}catch(e){return console.error("Failed to check user role:",e),G({open:!0,message:"Error: ".concat(e.message),userName:""}),!1}},ed=(0,n.useCallback)(async(e,r)=>{try{let r=await y.ZP.get(L.getClusters),t={},n=0;e.forEach(e=>{t[e]={totalClusterCount:0,runningClusterCount:0}}),(r||[]).forEach(e=>{let s=e.workspace||"default";t[s]||(t[s]={totalClusterCount:0,runningClusterCount:0}),t[s].totalClusterCount++,("RUNNING"===e.status||"LAUNCHING"===e.status)&&(t[s].runningClusterCount++,n++)}),s(e=>e.map(e=>{var s,r;return{...e,totalClusterCount:(null===(s=t[e.name])||void 0===s?void 0:s.totalClusterCount)||0,runningClusterCount:(null===(r=t[e.name])||void 0===r?void 0:r.runningClusterCount)||0}})),S(e=>({...e,runningClusters:n,totalClusters:(r||[]).length}))}catch(e){console.error("Error fetching clusters:",e)}finally{D(!1)}},[]),eu=(0,n.useCallback)(async e=>{try{let r=await y.ZP.get(E.getManagedJobs,[{allUsers:!0,skipFinished:!0}]),t=(null==r?void 0:r.jobs)||[],n={},a=new Set(w.statusGroups.active),l=0;e.forEach(e=>{n[e]={managedJobsCount:0}}),t.forEach(e=>{let s=e.workspace||"default";n[s]||(n[s]={managedJobsCount:0}),a.has(e.status)&&(n[s].managedJobsCount++,l++)}),s(e=>e.map(e=>{var s;return{...e,managedJobsCount:(null===(s=n[e.name])||void 0===s?void 0:s.managedJobsCount)||0}})),S(e=>({...e,managedJobs:l}))}catch(e){console.error("Error fetching jobs:",e)}finally{J(!1)}},[]),em=(0,n.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{showLoadingIndicators:!0},{showLoadingIndicators:r=!0}=e;r&&(D(!0),J(!0));try{let e=await y.ZP.get(l.getWorkspaces);F(e);let t=Object.keys(e),n=t.map(async e=>{try{let s=await y.ZP.get(l.getEnabledClouds,[e]);return{wsName:e,enabledClouds:s}}catch(s){return console.error("Error fetching enabled clouds for ".concat(e,":"),s),{wsName:e,enabledClouds:[]}}}),a=await Promise.all(n),o={};a.forEach(e=>{let{wsName:s,enabledClouds:r}=e;o[s]=r});let i=t.map(e=>({name:e,totalClusterCount:0,runningClusterCount:0,managedJobsCount:0,clouds:Array.isArray(o[e])?o[e]:[]})).sort((e,s)=>e.name.localeCompare(s.name));s(i),A&&r&&I(!1);let c=ed(t,o),d=eu(t);await Promise.all([c,d])}catch(e){console.error("Error fetching workspace data:",e),A&&(s([]),S({runningClusters:0,totalClusters:0,managedJobs:0})),r&&(D(!1),J(!1)),A&&r&&I(!1)}},[A,ed,eu]);(0,n.useEffect)(()=>{(async()=>{await b.ZP.preloadForPage("workspaces"),await em({showLoadingIndicators:!0}),T(new Date)})();let e=setInterval(()=>{"visible"===window.document.visibilityState&&em({showLoadingIndicators:!1})},k.nb.REFRESH_INTERVAL);return()=>clearInterval(e)},[em]);let ex=(0,n.useCallback)(async()=>{D(!0),J(!0),y.ZP.invalidate(l.getWorkspaces),y.ZP.invalidateFunction(l.getEnabledClouds),y.ZP.invalidate(L.getClusters),y.ZP.invalidateFunction(E.getManagedJobs);try{await C.x.fetch("/check",{},"POST"),await em({showLoadingIndicators:!1}),T(new Date)}catch(e){console.error("Error during sky check refresh:",e)}finally{D(!1),J(!1)}},[em]);(0,n.useEffect)(()=>{let e=e=>{(e.metaKey||e.ctrlKey)&&"r"===e.key&&(e.preventDefault(),ex())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[ex]);let eh=e=>{let s="asc";V.key===e&&"asc"===V.direction&&(s="desc"),B({key:e,direction:s})},ep=e=>V.key===e?"asc"===V.direction?" ↑":" ↓":"",eg=n.useMemo(()=>{if(!e)return[];let s=e;if(q&&""!==q.trim()){let r=q.toLowerCase().trim();s=e.filter(e=>!!(e.name.toLowerCase().includes(r)||e.clouds.some(e=>{let s=Z.Z2[e.toLowerCase()]||e;return e.toLowerCase().includes(r)||s.toLowerCase().includes(r)}))||!!(!0===((null==W?void 0:W[e.name])||{}).private?"private":"public").includes(r))}return(0,N.R0)(s,V.key,V.direction)},[e,V,q,W]),ef=e=>{ec("cannot delete workspace",()=>{U({confirmOpen:!0,workspaceToDelete:e,deleting:!1,error:null})})},ej=async()=>{if($.workspaceToDelete){U(e=>({...e,deleting:!0,error:null}));try{await (0,l.zl)($.workspaceToDelete),ea('Workspace "'.concat($.workspaceToDelete,'" deleted successfully!')),U({confirmOpen:!1,workspaceToDelete:null,deleting:!1,error:null}),y.ZP.invalidate(l.getWorkspaces),y.ZP.invalidate(L.getClusters),y.ZP.invalidateFunction(E.getManagedJobs),await em({showLoadingIndicators:!0})}catch(e){console.error("Error deleting workspace:",e),U(e=>({...e,deleting:!1,error:null})),et(e)}}},ev=()=>{U({confirmOpen:!1,workspaceToDelete:null,deleting:!1,error:null})},ew=e=>{ec("cannot edit workspace",()=>{el.push("/workspaces/".concat(e))})};return A&&0===e.length?(0,t.jsxs)("div",{className:"flex justify-center items-center h-64",children:[(0,t.jsx)(d.Z,{}),(0,t.jsx)("span",{className:"ml-2 text-gray-500",children:"Loading workspaces..."})]}):(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"fixed top-20 right-4 z-[9999] max-w-md",children:[en&&(0,t.jsx)("div",{className:"bg-green-50 border border-green-200 rounded p-4 mb-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),(0,t.jsx)("div",{className:"ml-3",children:(0,t.jsx)("p",{className:"text-sm font-medium text-green-800",children:en})})]}),(0,t.jsx)("div",{className:"ml-auto pl-3",children:(0,t.jsxs)("button",{type:"button",onClick:()=>ea(null),className:"inline-flex rounded-md bg-green-50 p-1.5 text-green-500 hover:bg-green-100",children:[(0,t.jsx)("span",{className:"sr-only",children:"Dismiss"}),(0,t.jsx)("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})]})}),(0,t.jsx)(x.X,{error:er,title:"Error",onDismiss:()=>et(null)})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2 h-5",children:[(0,t.jsx)("div",{className:"text-base flex items-center",children:(0,t.jsx)("span",{className:"text-sky-blue leading-none",children:"Workspaces"})}),(0,t.jsxs)("div",{className:"flex items-center",children:[(z||R)&&(0,t.jsxs)("div",{className:"flex items-center mr-2",children:[(0,t.jsx)(d.Z,{size:15,className:"mt-0"}),(0,t.jsx)("span",{className:"ml-2 text-gray-500 text-xs",children:"Loading..."})]}),!z&&!R&&O&&(0,t.jsx)(j.$3,{timestamp:O,className:"mr-2"}),(0,t.jsxs)("button",{onClick:ex,disabled:z||R,className:"text-sky-blue hover:text-sky-blue-bright flex items-center",children:[(0,t.jsx)(h.Z,{className:"h-4 w-4 mr-1.5"}),!eo&&(0,t.jsx)("span",{children:"Refresh"})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,t.jsx)("input",{type:"text",placeholder:"Filter workspaces",value:q,onChange:e=>K(e.target.value),className:"h-8 w-full px-3 pr-8 text-sm border border-gray-300 rounded-md focus:ring-1 focus:ring-sky-500 focus:border-sky-500 outline-none"}),q&&(0,t.jsx)("button",{onClick:()=>K(""),className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",title:"Clear search",children:(0,t.jsx)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,t.jsx)("button",{onClick:()=>{ec("cannot create workspace",()=>{el.push("/workspace/new")})},disabled:ee,className:"ml-4 bg-sky-600 hover:bg-sky-700 text-white flex items-center rounded-md px-3 py-1 text-sm font-medium transition-colors duration-200",title:"Create Workspace",children:ee?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.Z,{size:12,className:"mr-2"}),(0,t.jsx)("span",{children:"Create Workspace"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(p.Z,{className:"h-4 w-4 mr-2"}),"Create Workspace"]})})]}),0!==e.length||A?(0,t.jsx)(o.Zb,{children:(0,t.jsx)("div",{className:"overflow-x-auto rounded-lg",children:(0,t.jsxs)(i.iA,{className:"min-w-full",children:[(0,t.jsx)(i.xD,{children:(0,t.jsxs)(i.SC,{children:[(0,t.jsxs)(i.ss,{className:"sortable whitespace-nowrap cursor-pointer hover:bg-gray-50",onClick:()=>eh("name"),children:["Workspace",ep("name")]}),(0,t.jsxs)(i.ss,{className:"sortable whitespace-nowrap cursor-pointer hover:bg-gray-50",onClick:()=>eh("runningClusterCount"),children:["Running Clusters ",ep("runningClusterCount")]}),(0,t.jsxs)(i.ss,{className:"sortable whitespace-nowrap cursor-pointer hover:bg-gray-50",onClick:()=>eh("managedJobsCount"),children:["Jobs",ep("managedJobsCount")]}),(0,t.jsx)(i.ss,{className:"whitespace-nowrap",children:"Enabled infra"}),(0,t.jsx)(i.ss,{className:"whitespace-nowrap",children:"Actions"})]})}),(0,t.jsx)(i.RM,{children:A&&0===eg.length?(0,t.jsx)(i.SC,{children:(0,t.jsx)(i.pj,{colSpan:5,className:"text-center py-6 text-gray-500",children:(0,t.jsxs)("div",{className:"flex justify-center items-center",children:[(0,t.jsx)(d.Z,{size:20,className:"mr-2"}),(0,t.jsx)("span",{children:"Loading..."})]})})}):eg.length>0?eg.map(e=>{let s=!0===((null==W?void 0:W[e.name])||{}).private;return(0,t.jsxs)(i.SC,{className:"hover:bg-gray-50",children:[(0,t.jsxs)(i.pj,{className:"",children:[(0,t.jsx)("button",{onClick:()=>ew(e.name),disabled:ee,className:"text-blue-600 hover:text-blue-600 hover:underline text-left",children:e.name}),(0,t.jsx)("span",{className:"ml-2",children:(0,t.jsx)(M,{isPrivate:s})})]}),(0,t.jsx)(i.pj,{children:(0,t.jsx)("button",{onClick:()=>{el.push({pathname:"/clusters",query:{workspace:e.name}})},className:"text-gray-700 hover:text-blue-600 hover:underline",children:(0,t.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 bg-gray-100 text-gray-700 rounded text-sm",children:z?(0,t.jsx)(d.Z,{size:12}):e.runningClusterCount})})}),(0,t.jsx)(i.pj,{children:(0,t.jsx)("button",{onClick:()=>{el.push({pathname:"/jobs",query:{workspace:e.name}})},className:"text-gray-700 hover:text-blue-600 hover:underline",children:(0,t.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 bg-gray-100 text-gray-700 rounded text-sm",children:R?(0,t.jsx)(d.Z,{size:12}):e.managedJobsCount})})}),(0,t.jsx)(i.pj,{children:e.clouds.length>0?[...e.clouds].sort().map((s,r)=>{let n=Z.Z2[s.toLowerCase()]||s;return(0,t.jsxs)("span",{children:[(0,t.jsx)(P(),{href:"/infra",className:"inline-flex items-center px-2 py-1 rounded text-sm bg-sky-100 text-sky-800 hover:bg-sky-200 hover:text-sky-900 transition-colors duration-200",children:n}),r<e.clouds.length-1&&" "]},s)}):(0,t.jsx)("span",{className:"text-gray-500 text-sm",children:"-"})}),(0,t.jsxs)(i.pj,{children:[(0,t.jsx)(c.z,{variant:"ghost",size:"sm",onClick:()=>ew(e.name),disabled:ee,className:"text-gray-600 hover:text-gray-800 mr-1",children:(0,t.jsx)(g.Z,{className:"w-4 h-4"})}),(0,t.jsx)(c.z,{variant:"ghost",size:"sm",onClick:()=>ef(e.name),disabled:"default"===e.name||ee,title:"default"===e.name?"Cannot delete default workspace":"Delete workspace",className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:(0,t.jsx)(f.Z,{className:"w-4 h-4"})})]})]},e.name)}):(0,t.jsx)(i.SC,{children:(0,t.jsx)(i.pj,{colSpan:5,className:"text-center py-6 text-gray-500",children:"No workspaces found"})})})]})})}):(0,t.jsxs)("div",{className:"text-center py-10",children:[(0,t.jsx)("p",{className:"text-lg text-gray-600",children:"No workspaces found."}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Create a cluster to see its workspace here."})]}),W&&(0,t.jsx)(m.Vq,{open:_,onOpenChange:H,children:(0,t.jsxs)(m.cZ,{className:"sm:max-w-md md:max-w-lg lg:max-w-xl xl:max-w-2xl w-full max-h-[90vh] flex flex-col",children:[(0,t.jsx)(m.fK,{children:(0,t.jsx)(m.$N,{className:"pr-10",children:"All Workspaces Configuration"})}),(0,t.jsx)("div",{className:"flex-grow overflow-y-auto py-4",children:(0,t.jsx)("pre",{style:{backgroundColor:"#f5f5f5",padding:"16px",borderRadius:"8px",overflowX:"auto",whiteSpace:"pre",wordBreak:"normal"},children:u.ZP.dump(W,{indent:2})})})]})}),(0,t.jsx)(m.Vq,{open:X.open,onOpenChange:e=>{G(s=>({...s,open:e})),e||et(null)},children:(0,t.jsxs)(m.cZ,{className:"sm:max-w-md transition-all duration-200 ease-in-out",children:[(0,t.jsxs)(m.fK,{children:[(0,t.jsx)(m.$N,{children:"Permission Denied"}),(0,t.jsx)(m.Be,{children:ee?(0,t.jsxs)("div",{className:"flex items-center py-2",children:[(0,t.jsx)(d.Z,{size:16,className:"mr-2"}),(0,t.jsx)("span",{children:"Checking permissions..."})]}):(0,t.jsx)(t.Fragment,{children:X.userName?(0,t.jsxs)(t.Fragment,{children:[X.userName," is logged in as non-admin and ",X.message,"."]}):X.message})})]}),(0,t.jsx)(m.cN,{children:(0,t.jsx)(c.z,{variant:"outline",onClick:()=>G(e=>({...e,open:!1})),disabled:ee,children:"OK"})})]})}),(0,t.jsx)(m.Vq,{open:$.confirmOpen,onOpenChange:e=>{e||(ev(),et(null))},children:(0,t.jsxs)(m.cZ,{className:"sm:max-w-md",children:[(0,t.jsxs)(m.fK,{children:[(0,t.jsx)(m.$N,{children:"Delete Workspace"}),(0,t.jsxs)(m.Be,{children:['Are you sure you want to delete workspace "',$.workspaceToDelete,'"? This action cannot be undone.']})]}),(0,t.jsxs)(m.cN,{children:[(0,t.jsx)(c.z,{variant:"outline",onClick:ev,disabled:$.deleting,children:"Cancel"}),(0,t.jsx)(c.z,{variant:"destructive",onClick:ej,disabled:$.deleting,children:$.deleting?"Deleting...":"Delete"})]})]})})]})}k.nb.REFRESH_INTERVAL},55988:function(e,s,r){r.d(s,{j:function(){return a}});var t=r(85893);r(67294);var n=r(23800);function a(e){let{name:s,context:r={},fallback:a=null,wrapperClassName:l=""}=e,o=(0,n.dL)(s);return 0===o.length?a:(0,t.jsx)("div",{className:l||void 0,children:o.map(e=>{let s=e.component;return(0,t.jsx)(s,{...r},e.id)})})}},12003:function(e,s,r){r.d(s,{j:function(){return l}});var t=r(90512);let n=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,a=t.W,l=(e,s)=>r=>{var t;if((null==s?void 0:s.variants)==null)return a(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:l,defaultVariants:o}=s,i=Object.keys(l).map(e=>{let s=null==r?void 0:r[e],t=null==o?void 0:o[e];if(null===s)return null;let a=n(s)||n(t);return l[e][a]}),c=r&&Object.entries(r).reduce((e,s)=>{let[r,t]=s;return void 0===t||(e[r]=t),e},{});return a(e,i,null==s?void 0:null===(t=s.compoundVariants)||void 0===t?void 0:t.reduce((e,s)=>{let{class:r,className:t,...n}=s;return Object.entries(n).every(e=>{let[s,r]=e;return Array.isArray(r)?r.includes({...o,...c}[s]):({...o,...c})[s]===r})?[...e,r,t]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}}}]);