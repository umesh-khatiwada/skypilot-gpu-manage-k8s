"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1400],{23359:function(e,s,r){r.d(s,{Z:function(){return t}});/**
 * @license lucide-react v0.407.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,r(60998).Z)("FileCode",[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]])},81260:function(e,s,r){r.d(s,{Z:function(){return t}});/**
 * @license lucide-react v0.407.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,r(60998).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},13626:function(e,s,r){r.d(s,{Z:function(){return t}});/**
 * @license lucide-react v0.407.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,r(60998).Z)("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]])},96122:function(e,s,r){r.d(s,{Z:function(){return t}});/**
 * @license lucide-react v0.407.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,r(60998).Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},61400:function(e,s,r){r.r(s),r.d(s,{RecipeHub:function(){return U}});var t=r(85893),a=r(67294),n=r(11163),l=r(41664),c=r.n(l),i=r(55739),o=r(1272),d=r(96122),m=r(81260),u=r(13626),x=r(24544),p=r(23359),h=r(37673),f=r(30803),j=r(68764),y=r(94545),g=r(50326),b=r(42557),N=r(36185);r(69123);var v=r(65089),w=r(62935),k=r(470),C=r(15821),_=r(79586),S=r(98691);let R=[{label:"Name",value:"name"},{label:"Type",value:"recipe_type"},{label:"Owner",value:"user_name"}];function L(e){let{name:s,className:r=""}=e;if(!s)return(0,t.jsx)("span",{className:r,children:"Unknown"});if(s.includes("@")){let e=s.split("@")[0];return(0,t.jsx)(k.Md,{content:s,children:(0,t.jsx)("span",{className:"border-b border-dotted border-gray-400 cursor-help ".concat(r),children:e})})}return(0,t.jsx)("span",{className:r,children:s})}function T(e){let{recipe:s}=e,r=(0,S.NL)(s.recipe_type),a=r.icon,n=s.name;return(0,t.jsx)(c(),{href:"/recipes/".concat(n),className:"block",children:(0,t.jsx)(h.Zb,{className:"h-full hover:bg-gray-50 transition-colors cursor-pointer group",children:(0,t.jsxs)(h.aY,{className:"p-3",children:[(0,t.jsxs)("div",{className:"flex items-start gap-2 mb-1.5",children:[(0,t.jsx)(a,{className:"w-4 h-4 flex-shrink-0 mt-0.5 ".concat("sky"===r.color?"text-sky-600":"purple"===r.color?"text-purple-600":"green"===r.color?"text-green-600":"orange"===r.color?"text-orange-600":"text-gray-600")}),(0,t.jsx)("div",{className:"flex-1 min-w-0",children:(0,t.jsx)("h3",{className:"text-base font-medium text-blue-600 truncate group-hover:text-blue-800 transition-colors",children:s.name})})]}),(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsx)("div",{className:"text-sm text-gray-500",children:r.label}),s.description&&(0,t.jsx)("p",{className:"text-sm text-gray-600 truncate",title:s.description,children:s.description}),(0,t.jsxs)("div",{className:"text-sm text-gray-500 truncate",children:["Authored by ",(0,t.jsx)(L,{name:s.user_name||s.user_id})]}),s.is_editable&&"local"!==s.user_name&&(0,t.jsxs)("div",{className:"text-sm text-gray-500 truncate",children:["Updated by"," ",(0,t.jsx)(L,{name:s.updated_by_name||s.user_name})," ",(0,t.jsx)(k.Zg,{date:s.updated_at?new Date(1e3*s.updated_at):null})]})]})]})})})}function M(e){let{title:s,icon:r,recipes:a,emptyMessage:n,iconColor:l}=e;return 0===a.length?(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,t.jsx)(r,{className:"w-4 h-4 ".concat(l)}),(0,t.jsx)("h2",{className:"text-base text-gray-700",children:s}),(0,t.jsxs)("span",{className:"text-sm text-gray-500",children:["(",a.length,")"]})]}),(0,t.jsx)("div",{className:"text-center py-6 bg-white rounded-lg border border-gray-200 shadow-sm",children:(0,t.jsx)("p",{className:"text-gray-500",children:n})})]}):(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,t.jsx)(r,{className:"w-4 h-4 ".concat(l)}),(0,t.jsx)("h2",{className:"text-base text-gray-700",children:s}),(0,t.jsxs)("span",{className:"text-sm text-gray-500",children:["(",a.length,")"]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:a.map(e=>(0,t.jsx)(T,{recipe:e},e.name))})]})}function Z(e){let{recipes:s}=e,[r,n]=(0,a.useState)([]),[l,i]=(0,a.useState)({key:"updated_at",direction:"descending"}),o=(0,a.useMemo)(()=>{let e=new Set,r=new Set,t=new Set;return s.forEach(s=>{s.name&&e.add(s.name),s.recipe_type&&r.add(s.recipe_type),s.user_name?t.add(s.user_name):s.user_id&&t.add(s.user_id)}),{name:Array.from(e).sort(),recipe_type:Array.from(r).sort(),user_name:Array.from(t).sort()}},[s]),d=e=>{let s="ascending";l.key===e&&"ascending"===l.direction&&(s="descending"),i({key:e,direction:s})},m=e=>l.key===e?"ascending"===l.direction?" ↑":" ↓":"",u=(0,a.useMemo)(()=>{let e=s;return r.length>0&&(e=e.filter(e=>{for(let s of r){let r=s.property.toLowerCase().replace(" ","_"),t="";if("name"===r?t=e.name||"":"type"===r?t=e.recipe_type||"":"owner"===r&&(t=e.user_name||e.user_id||""),!t.toLowerCase().includes(s.value.toLowerCase()))return!1}return!0})),(0,y.R0)(e,l.key,l.direction)},[s,r,l]);return(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2 mb-3",children:[(0,t.jsx)("span",{className:"text-base text-gray-700",children:"All Recipes"}),(0,t.jsx)("div",{className:"w-full sm:w-auto",children:(0,t.jsx)(E,{propertyList:R,valueList:o,setFilters:n,placeholder:"Filter recipes",filters:r})}),(0,t.jsxs)("span",{className:"text-sm text-gray-500 ml-auto",children:[u.length," of ",s.length]})]}),r.length>0&&(0,t.jsx)(F,{filters:r,setFilters:n}),(0,t.jsx)(h.Zb,{children:(0,t.jsx)("div",{className:"overflow-x-auto rounded-lg",children:(0,t.jsxs)(j.iA,{className:"min-w-full",children:[(0,t.jsx)(j.xD,{children:(0,t.jsxs)(j.SC,{children:[(0,t.jsxs)(j.ss,{className:"sortable whitespace-nowrap cursor-pointer hover:bg-gray-50",onClick:()=>d("recipe_type"),children:["Type",m("recipe_type")]}),(0,t.jsxs)(j.ss,{className:"sortable whitespace-nowrap cursor-pointer hover:bg-gray-50",onClick:()=>d("name"),children:["Name",m("name")]}),(0,t.jsxs)(j.ss,{className:"sortable whitespace-nowrap cursor-pointer hover:bg-gray-50",onClick:()=>d("description"),children:["Description",m("description")]}),(0,t.jsxs)(j.ss,{className:"sortable whitespace-nowrap cursor-pointer hover:bg-gray-50",onClick:()=>d("user_name"),children:["Owner",m("user_name")]}),(0,t.jsxs)(j.ss,{className:"sortable whitespace-nowrap cursor-pointer hover:bg-gray-50",onClick:()=>d("updated_by_name"),children:["Last Updated By",m("updated_by_name")]}),(0,t.jsxs)(j.ss,{className:"sortable whitespace-nowrap cursor-pointer hover:bg-gray-50",onClick:()=>d("updated_at"),children:["Updated",m("updated_at")]})]})}),(0,t.jsx)(j.RM,{children:0===u.length?(0,t.jsx)(j.SC,{children:(0,t.jsx)(j.pj,{colSpan:6,className:"text-center py-6 text-gray-500",children:0===s.length?"No recipes from other users.":"No recipes match your filter criteria."})}):u.map(e=>{let s=(0,S.NL)(e.recipe_type),r=s.icon,a=e.name,n=e.description?e.description.length>80?e.description.substring(0,80)+"...":e.description:"-";return(0,t.jsxs)(j.SC,{className:"hover:bg-gray-50",children:[(0,t.jsx)(j.pj,{children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(r,{className:"w-4 h-4 ".concat("sky"===s.color?"text-sky-600":"purple"===s.color?"text-purple-600":"green"===s.color?"text-green-600":"orange"===s.color?"text-orange-600":"text-gray-600")}),(0,t.jsx)("span",{children:s.label})]})}),(0,t.jsx)(j.pj,{children:(0,t.jsx)(c(),{href:"/recipes/".concat(a),className:"text-blue-600 hover:text-blue-800 hover:underline",children:e.name})}),(0,t.jsx)(j.pj,{className:"text-gray-600 max-w-[400px]",title:e.description||"",children:(0,t.jsx)("span",{className:"cursor-default",children:n})}),(0,t.jsx)(j.pj,{className:"text-gray-600",children:(0,t.jsx)(L,{name:e.user_name||e.user_id})}),(0,t.jsx)(j.pj,{className:"text-gray-600",children:e.updated_by_name||e.user_name?(0,t.jsx)(L,{name:e.updated_by_name||e.user_name}):"-"}),(0,t.jsx)(j.pj,{className:"text-gray-500",children:(0,t.jsx)(k.Zg,{date:e.updated_at?new Date(1e3*e.updated_at):null})})]},e.name)})})]})})})]})}let E=e=>{let{propertyList:s=[],valueList:r,setFilters:n,placeholder:l="Filter recipes",filters:c=[]}=e,i=(0,a.useRef)(null),o=(0,a.useRef)(null),[d,m]=(0,a.useState)(!1),[u,x]=(0,a.useState)(""),[p,h]=(0,a.useState)("name"),[f,j]=(0,a.useState)([]),y=(0,a.useCallback)(e=>{let r=s.find(s=>s.value===e);return r?r.label:e},[s]);(0,a.useEffect)(()=>{let e=e=>{o.current&&!o.current.contains(e.target)&&i.current&&!i.current.contains(e.target)&&m(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,a.useEffect)(()=>{let e=[],s=y(p),t=c.filter(e=>e.property===s).map(e=>e.value);r&&"object"==typeof r&&(e=(r[p]||[]).filter(e=>!t.includes(e))),""!==u.trim()&&(e=e.filter(e=>e&&e.toString().toLowerCase().includes(u.toLowerCase()))),j(e)},[p,r,u,c,y]);let g=e=>{n(s=>[...s,{property:y(p),operator:":",value:e}]),m(!1),x(""),i.current.focus()};return(0,t.jsxs)("div",{className:"flex flex-row border border-gray-300 rounded-md overflow-visible",children:[(0,t.jsx)("div",{className:"border-r border-gray-300 flex-shrink-0",children:(0,t.jsxs)(w.Ph,{onValueChange:h,value:p,children:[(0,t.jsx)(w.i4,{"aria-label":"Filter Property",className:"focus:ring-0 focus:ring-offset-0 border-none rounded-l-md rounded-r-none w-20 sm:w-24 md:w-32 h-8 text-xs sm:text-sm",children:(0,t.jsx)(w.ki,{placeholder:"Name"})}),(0,t.jsx)(w.Bw,{children:s.map((e,s)=>(0,t.jsx)(w.Ql,{value:e.value,children:e.label},"property-item-".concat(s)))})]})}),(0,t.jsxs)("div",{className:"relative flex-1",children:[(0,t.jsx)("input",{type:"text",ref:i,placeholder:l,value:u,onChange:e=>{x(e.target.value),d||m(!0)},onFocus:()=>{m(!0)},onKeyDown:e=>{"Enter"===e.key&&""!==u.trim()?(n(e=>[...e,{property:y(p),operator:":",value:u}]),x(""),m(!1)):"Escape"===e.key&&(m(!1),i.current.blur())},className:"h-8 w-full sm:w-96 px-3 pr-8 text-sm border-none rounded-l-none rounded-r-md focus:ring-0 focus:outline-none",autoComplete:"off"}),u&&(0,t.jsx)("button",{onClick:()=>{x(""),m(!1)},className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",title:"Clear filter",tabIndex:-1,children:(0,t.jsx)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),d&&f.length>0&&(0,t.jsx)("div",{ref:o,className:"absolute z-50 mt-1 w-full bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-y-auto",style:{zIndex:9999},children:f.map((e,s)=>(0,t.jsx)("div",{className:"px-3 py-2 cursor-pointer hover:bg-gray-50 text-sm ".concat(s!==f.length-1?"border-b border-gray-100":""),onClick:()=>g(e),children:(0,t.jsx)("span",{className:"text-sm text-gray-700",children:e})},"".concat(e,"-").concat(s)))})]})]})},F=e=>{let{filters:s=[],setFilters:r}=e,a=e=>{r(s=>s.filter((s,r)=>r!==e))};return(0,t.jsx)("div",{className:"flex items-center gap-4 py-2 px-2 mb-2",children:(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[s.map((e,s)=>(0,t.jsx)(A,{filter:e,onRemove:()=>a(s)},"filteritem-".concat(s))),s.length>0&&(0,t.jsx)("button",{onClick:()=>{r([])},className:"rounded-full px-4 py-1 text-sm text-gray-700 bg-gray-200 hover:bg-gray-300",children:"Clear filters"})]})})},A=e=>{let{filter:s,onRemove:r}=e;return(0,t.jsxs)("div",{className:"flex items-center text-blue-600 bg-blue-100 px-1 py-1 rounded-full text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1 px-2",children:[(0,t.jsx)("span",{children:s.property}),(0,t.jsx)("span",{children:s.operator}),(0,t.jsx)("span",{children:s.value})]}),(0,t.jsx)("button",{onClick:r,className:"p-0.5 ml-1 text-gray-400 hover:text-gray-600 bg-blue-500 hover:bg-blue-600 rounded-full flex items-center",title:"Remove filter",children:(0,t.jsx)("svg",{className:"h-3 w-3",fill:"none",stroke:"white",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:5,d:"M6 18L18 6M6 6l12 12"})})})]})};function D(e){switch(e){case S.nT.CLUSTER:return'name: my-cluster\nresources:\n  infra: aws\n  accelerators: A100:1\n\nrun: |\n  echo "Hello, SkyPilot!"\n';case S.nT.JOB:return'name: my-job\nresources:\n  infra: aws\n  accelerators: A100:1\n\nrun: |\n  echo "Running managed job..."\n';case S.nT.POOL:return"pool:\n  name: my-pool\n\nresources:\n  infra: aws\n  accelerators: A100:1\n";default:return"name: my-".concat(e,'\nresources:\n  infra: aws\n  accelerators: A100:1\n\nrun: |\n  echo "Hello, SkyPilot!"\n')}}function P(e){let{isOpen:s,onClose:r,onSubmit:n,initialData:l,isAuthenticated:c}=e,[m,u]=(0,a.useState)(""),[x,p]=(0,a.useState)(""),[h,j]=(0,a.useState)(D(S.nT.CLUSTER)),[y,k]=(0,a.useState)(S.nT.CLUSTER),[_,R]=(0,a.useState)(""),[L,T]=(0,a.useState)(!1);(0,a.useEffect)(()=>{s&&(l?(u(l.name||""),p(l.description||""),j(l.content||""),k(l.recipe_type||S.nT.CLUSTER)):(u(""),p(""),k(S.nT.CLUSTER),j(D(S.nT.CLUSTER))),R(""))},[l,s]);let M=async e=>{e.preventDefault(),T(!0);try{o.ZP.load(h)}catch(e){(0,C.C)("Invalid YAML: ".concat(e.message),"error"),T(!1);return}try{await n({name:m,description:x||null,content:h,recipeType:y,ownerName:_||null}),r()}catch(e){(0,C.C)("Error: ".concat(e.message),"error")}finally{T(!1)}};return(0,t.jsx)(g.Vq,{open:s,onOpenChange:r,children:(0,t.jsxs)(g.cZ,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto px-8",children:[(0,t.jsxs)(g.fK,{children:[(0,t.jsx)(g.$N,{className:"text-xl text-gray-900",children:"Create New Recipe"}),(0,t.jsx)(g.Be,{children:"Create a reusable recipe for clusters, jobs, and more."})]}),(0,t.jsxs)("div",{className:"bg-amber-50 border border-amber-200 rounded-md p-3 flex items-start gap-2 mt-4",children:[(0,t.jsx)(d.Z,{className:"w-4 h-4 text-amber-600 mt-0.5 flex-shrink-0"}),(0,t.jsx)("p",{className:"text-sm text-amber-800",children:"This recipe will be visible to everyone with access to this dashboard."})]}),(0,t.jsxs)("form",{onSubmit:M,className:"space-y-4 mt-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(N._,{htmlFor:"name",children:"Name *"}),(0,t.jsx)(b.I,{id:"name",value:m,onChange:e=>u(e.target.value),placeholder:"my-gpu-training",className:"placeholder:text-gray-400",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(N._,{htmlFor:"recipe-type",children:"Type *"}),(0,t.jsxs)(w.Ph,{value:y,onValueChange:e=>{(h===D(y)||""===h)&&j(D(e)),k(e)},children:[(0,t.jsx)(w.i4,{children:(0,t.jsx)(w.ki,{placeholder:"Select type"})}),(0,t.jsx)(w.Bw,{children:S.Ft.map(e=>{let s=(0,S.NL)(e),r=s.icon;return(0,t.jsx)(w.Ql,{value:e,children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(r,{className:"w-4 h-4 ".concat(s.colorClass)}),(0,t.jsx)("span",{children:s.fullLabel})]})},e)})})]})]})]}),!c&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(N._,{htmlFor:"owner-name",children:"Your Name"}),(0,t.jsx)(b.I,{id:"owner-name",value:_,onChange:e=>R(e.target.value),placeholder:"Enter your name (optional)",className:"placeholder:text-gray-400"}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"This name will be shown as the template owner."})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(N._,{htmlFor:"description",children:"Description"}),(0,t.jsx)(b.I,{id:"description",value:x,onChange:e=>p(e.target.value),placeholder:"A brief description of what this recipe does...",className:"placeholder:text-gray-400"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(N._,{htmlFor:"content",children:"YAML Content *"}),(0,t.jsx)(v.X,{value:h,onChange:j,maxHeight:"400px"})]}),(0,t.jsxs)(g.cN,{children:[(0,t.jsx)(f.z,{type:"button",variant:"outline",onClick:r,disabled:L,children:"Cancel"}),(0,t.jsx)(f.z,{type:"submit",disabled:L,className:"bg-sky-600 hover:bg-sky-700 text-white",children:L?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.Z,{size:16,className:"mr-2"}),"Creating..."]}):"Create Recipe"})]})]})]})})}function U(){let e=(0,n.useRouter)(),[s,r]=(0,a.useState)([]),[l,c]=(0,a.useState)(null),[o,d]=(0,a.useState)(!1),[f,j]=(0,a.useState)(!0),[y,g]=(0,a.useState)(null),[b,N]=(0,a.useState)(!1),[v,w]=(0,a.useState)(null),S=(0,a.useCallback)(async()=>{try{let e=await fetch("".concat(window.location.origin,"/internal/dashboard/users/role"));if(e.ok){let s=await e.json();c(s.id||"local"),d(s.id&&"local"!==s.id)}else c("local"),d(!1)}catch(e){console.error("Failed to get user info:",e),c("local"),d(!1)}},[]),R=(0,a.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&j(!0);try{let e=await (0,_.iM)();r(e||[]),g(new Date)}catch(e){console.error("Error fetching recipes:",e),(0,C.C)("Error loading recipes: ".concat(e.message),"error")}finally{e&&j(!1)}},[]);(0,a.useEffect)(()=>{if(e.query.copy)try{let s=JSON.parse(e.query.copy);w(s),N(!0),e.replace("/recipes",void 0,{shallow:!0})}catch(e){console.error("Failed to parse copy data:",e)}},[e.query.copy,e]),(0,a.useEffect)(()=>{S(),R(!0)},[S,R]);let L=s.filter(e=>e.pinned),T=o?s.filter(e=>!e.pinned&&e.user_id===l):[],E=o?s.filter(e=>!e.pinned&&e.user_id!==l):s.filter(e=>!e.pinned),F=async e=>{await (0,_.kW)({...e,...e.ownerName?{ownerName:e.ownerName}:{}}),(0,C.C)("Recipe created successfully!","success"),await R(),w(null)};return f&&0===s.length?(0,t.jsxs)("div",{className:"flex justify-center items-center h-64",children:[(0,t.jsx)(i.Z,{size:20,className:"mr-2"}),(0,t.jsx)("span",{className:"text-gray-500",children:"Loading..."})]}):(0,t.jsxs)("div",{className:"h-full",children:[(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2 mb-4 min-h-[20px]",children:[(0,t.jsx)("div",{className:"text-base flex items-center",children:(0,t.jsx)("span",{className:"text-sky-blue leading-none text-base",children:"Recipes"})}),(0,t.jsxs)("div",{className:"flex items-center gap-2 ml-auto",children:[f&&(0,t.jsxs)("div",{className:"flex items-center mr-2",children:[(0,t.jsx)(i.Z,{size:16}),(0,t.jsx)("span",{className:"ml-2 text-gray-500 text-sm",children:"Refreshing..."})]}),!f&&y&&(0,t.jsx)(k.$3,{timestamp:y,className:"mr-2"}),(0,t.jsxs)("button",{onClick:()=>{R(!0)},disabled:f,className:"text-sky-blue hover:text-sky-blue-bright flex items-center",children:[(0,t.jsx)(u.Z,{className:"h-4 w-4 mr-1.5"}),(0,t.jsx)("span",{children:"Refresh"})]}),(0,t.jsxs)("button",{onClick:()=>N(!0),className:"ml-4 bg-sky-600 hover:bg-sky-700 text-white flex items-center rounded-md px-3 py-1 text-sm font-medium transition-colors duration-200",title:"New Recipe",children:[(0,t.jsx)(m.Z,{className:"h-4 w-4 mr-2"}),"New Recipe"]})]})]}),0===s.length?(0,t.jsx)(h.Zb,{children:(0,t.jsx)(()=>(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("p",{className:"text-gray-500 mb-4",children:"No recipes yet"}),(0,t.jsxs)("button",{onClick:()=>N(!0),className:"bg-sky-600 hover:bg-sky-700 text-white flex items-center justify-center mx-auto rounded-md px-3 py-1.5 text-sm font-medium transition-colors duration-200",children:[(0,t.jsx)(m.Z,{className:"h-4 w-4 mr-2"}),"Create Your First Template"]})]}),{})}):(0,t.jsxs)("div",{children:[(0,t.jsx)(M,{title:"Pinned Recipes",icon:x.Z,iconColor:"text-amber-500",recipes:L,emptyMessage:"No pinned recipes. Pin important recipes for quick access."}),o&&(0,t.jsx)(M,{title:"My Recipes",icon:p.Z,iconColor:"text-sky-500",recipes:T,emptyMessage:"You haven't created any recipes yet."}),(0,t.jsx)(Z,{recipes:E})]}),(0,t.jsx)(P,{isOpen:b,onClose:()=>{N(!1),w(null)},onSubmit:F,initialData:v,isAuthenticated:o})]})}},68764:function(e,s,r){r.d(s,{RM:function(){return i},SC:function(){return o},iA:function(){return l},pj:function(){return m},ss:function(){return d},xD:function(){return c}});var t=r(85893),a=r(67294),n=r(46990);let l=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{className:"relative w-full overflow-auto",children:(0,t.jsx)("table",{ref:s,className:(0,n.cn)("w-full caption-bottom text-base",r),...a})})});l.displayName="Table";let c=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("thead",{ref:s,className:(0,n.cn)("[&_tr]:border-b",r),...a})});c.displayName="TableHeader";let i=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("tbody",{ref:s,className:(0,n.cn)("[&_tr:last-child]:border-0",r),...a})});i.displayName="TableBody",a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("tfoot",{ref:s,className:(0,n.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",r),...a})}).displayName="TableFooter";let o=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("tr",{ref:s,className:(0,n.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...a})});o.displayName="TableRow";let d=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("th",{ref:s,className:(0,n.cn)("h-12 px-4 text-left align-middle font-medium text-[hsl(var(--text-strong))] [&:has([role=checkbox])]:pr-0",r),...a})});d.displayName="TableHead";let m=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("td",{ref:s,className:(0,n.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",r),...a})});m.displayName="TableCell",a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("caption",{ref:s,className:(0,n.cn)("mt-4 text-base text-muted-foreground",r),...a})}).displayName="TableCaption"}}]);