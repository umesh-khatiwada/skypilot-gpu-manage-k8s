(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9315],{40479:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/jobs/[job]",function(){return s(88099)}])},6639:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.407.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(60998).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},41825:function(e,t,s){"use strict";s.d(t,{l:function(){return h}});var r=s(85893),n=s(67294),a=s(45895),l=s(6639);/**
 * @license lucide-react v0.407.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,s(60998).Z)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var i=s(470),c=s(17853);let d="skypilot-dcgm-gpu/skypilot-dcgm-gpu-metrics",m=[{label:"15m",value:"15m"},{label:"1h",value:"1h"},{label:"6h",value:"6h"},{label:"24h",value:"24h"},{label:"7d",value:"7d"}],u=[{id:"1",title:"GPU Utilization",keyPrefix:"gpu-util"},{id:"2",title:"GPU Memory Utilization",keyPrefix:"gpu-memory"},{id:"3",title:"GPU Temperature",keyPrefix:"gpu-temp"},{id:"4",title:"GPU Power Usage",keyPrefix:"gpu-power"}],x=(e,t,s)=>{let r=(0,c.ki)(),n=new URLSearchParams({orgId:"1",from:s.from,to:s.to,timezone:"browser","var-cluster":t,"var-node":"$__all","var-gpu":"$__all",theme:"light",panelId:e});return"".concat(r,"/d-solo/").concat(d,"?").concat(n.toString(),"&__feature.dashboardSceneSolo")};function h(e){let{clusterNameOnCloud:t,displayName:s,refreshTrigger:h=0,storageKey:g="skypilot-gpu-metrics-expanded",headerExtra:f=null,noMetricsMessage:j="No GPU metrics available."}=e,[p,b]=(0,n.useState)({from:"now-1h",to:"now"}),[N,v]=(0,n.useState)(()=>"true"===localStorage.getItem(g)),y=e=>{b({from:"now-".concat(e),to:"now"})};return(0,r.jsx)("div",{className:"mt-6",children:(0,r.jsxs)("div",{className:"rounded-lg border bg-card text-card-foreground shadow-sm",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between px-4 ".concat(N?"pt-4":"py-4"),children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsxs)("button",{onClick:()=>{let e=!N;v(e),localStorage.setItem(g,String(e))},className:"flex items-center text-left focus:outline-none hover:text-gray-700 transition-colors duration-200",children:[N?(0,r.jsx)(a.Z,{className:"w-5 h-5 mr-2"}):(0,r.jsx)(l.Z,{className:"w-5 h-5 mr-2"}),(0,r.jsx)("h3",{className:"text-lg font-semibold",children:"GPU Metrics"})]}),f]}),(0,r.jsx)(i.WH,{content:"Open in Grafana",children:(0,r.jsx)("button",{onClick:()=>{let e=new URLSearchParams({orgId:"1",from:p.from,to:p.to,timezone:"browser","var-cluster":t,"var-node":"$__all","var-gpu":"$__all"});window.open((0,c.JP)("/d/".concat(d,"?").concat(e.toString())),"_blank")},className:"p-1.5 rounded-md text-gray-500 hover:text-gray-700 hover:bg-gray-100 transition-colors","aria-label":"Open in Grafana",children:(0,r.jsx)(o,{className:"w-4 h-4"})})})]}),N&&(0,r.jsxs)("div",{className:"p-5",children:[(0,r.jsxs)("div",{className:"mb-4 p-4 bg-gray-50 rounded-md border border-gray-200",children:[(0,r.jsx)("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("label",{className:"text-sm font-medium text-gray-700 whitespace-nowrap",children:"Time Range:"}),(0,r.jsx)("div",{className:"flex gap-1",children:m.map(e=>(0,r.jsx)("button",{onClick:()=>y(e.value),className:"px-2 py-1 text-xs font-medium rounded border transition-colors ".concat(p.from==="now-".concat(e.value)&&"now"===p.to?"bg-sky-blue text-white border-sky-blue":"bg-white text-gray-600 border-gray-300 hover:bg-gray-50"),children:e.label},e.value))})]})}),(0,r.jsxs)("div",{className:"mt-2 text-xs text-gray-500",children:["Showing: ",s," • Time: ",p.from," to"," ",p.to]})]}),t?(0,r.jsx)("div",{className:"grid gap-4 [grid-template-columns:repeat(auto-fit,minmax(300px,1fr))]",children:u.map(e=>(0,r.jsx)("div",{className:"bg-white rounded-md border border-gray-200 shadow-sm",children:(0,r.jsx)("div",{className:"p-2",children:(0,r.jsx)("iframe",{src:x(e.id,t,p),width:"100%",height:"400",frameBorder:"0",title:e.title,className:"rounded"},"".concat(e.keyPrefix,"-").concat(t,"-").concat(p.from,"-").concat(p.to,"-").concat(h))})},e.id))}):(0,r.jsx)("div",{className:"p-4 text-center text-gray-500 bg-gray-50 rounded-md",children:j})]})]})})}},1125:function(e,t,s){"use strict";s.d(t,{C:function(){return i}});var r=s(85893),n=s(67294),a=s(34209),l=s(84283);let o=e=>{if(!e||"string"!=typeof e)return e;let t=e.split("\n"),s=[];for(let e=0;e<t.length;e++){let r=t[e];if(""===r.trim()){let n=!1,a=0;for(let s=e-1;s>=0;s--){let e=t[s],r=e.trim();if(r&&e.match(/:\s*[|>]\s*$/)){n=!0;for(let e=s+1;e<t.length;e++){let s=t[e];if(s.trim()){a=s.search(/\S/);break}}break}if(r&&0===e.search(/\S/))break}if(n)for(let n=e+1;n<t.length;n++){let e=t[n];if(e.trim()){e.search(/\S/)>=a?s.push("  #YAML_BLANK_LINE_MARKER#"):s.push(r);break}}else s.push(r)}else s.push(r)}return s.join("\n")};function i(e){let{children:t,className:s=""}=e,i=(0,n.useRef)(null),c=o(t);(0,n.useEffect)(()=>{if(i.current){let e=i.current;setTimeout(()=>{let t;let s=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,null);for(;t=s.nextNode();)t.textContent&&t.textContent.includes("#YAML_BLANK_LINE_MARKER#")&&(t.textContent=t.textContent.replace(/#YAML_BLANK_LINE_MARKER#/g,""))},0)}},[c]);let d={...l.mQ,'code[class*="language-"]':{...l.mQ['code[class*="language-"]'],whiteSpace:"pre !important"},'pre[class*="language-"]':{...l.mQ['pre[class*="language-"]'],whiteSpace:"pre !important"}};return(0,r.jsx)("div",{ref:i,className:s,children:(0,r.jsx)(a.Z,{language:"yaml",style:d,customStyle:{margin:0,padding:0,background:"transparent",fontSize:"0.875rem",fontFamily:'ui-monospace, SFMono-Regular, "SF Mono", Consolas, "Liberation Mono", Menlo, monospace'},wrapLines:!0,wrapLongLines:!0,showLineNumbers:!1,useInlineStyles:!0,children:c})})}},8686:function(e,t,s){"use strict";s.d(t,{N:function(){return a}});var r=s(85893);s(67294);var n=s(470);let a=e=>{let{showTooltip:t=!0,className:s=""}=e,a=(0,r.jsxs)("span",{className:"\n        inline-flex items-center gap-0.5\n        px-1.5 py-0.5\n        text-[10px] font-semibold uppercase tracking-wide\n        bg-gradient-to-r from-emerald-50 to-teal-50\n        text-emerald-700\n        border border-emerald-200\n        rounded\n        shadow-sm\n        cursor-help\n        select-none\n        ".concat(s,"\n      "),children:[(0,r.jsx)("svg",{className:"w-2.5 h-2.5 text-emerald-500",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M10.868 2.884c-.321-.772-1.415-.772-1.736 0l-1.83 4.401-4.753.381c-.833.067-1.171 1.107-.536 1.651l3.62 3.102-1.106 4.637c-.194.813.691 1.456 1.405 1.02L10 15.591l4.069 2.485c.713.436 1.598-.207 1.404-1.02l-1.106-4.637 3.62-3.102c.635-.544.297-1.584-.536-1.65l-4.752-.382-1.831-4.401z",clipRule:"evenodd"})}),(0,r.jsx)("span",{children:"Primary"})]});return t?(0,r.jsx)(n.Md,{content:"Primary task – other tasks will be terminated once all primary tasks finish",className:"text-muted-foreground",children:a}):a}},68764:function(e,t,s){"use strict";s.d(t,{RM:function(){return i},SC:function(){return c},iA:function(){return l},pj:function(){return m},ss:function(){return d},xD:function(){return o}});var r=s(85893),n=s(67294),a=s(46990);let l=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("div",{className:"relative w-full overflow-auto",children:(0,r.jsx)("table",{ref:t,className:(0,a.cn)("w-full caption-bottom text-base",s),...n})})});l.displayName="Table";let o=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("thead",{ref:t,className:(0,a.cn)("[&_tr]:border-b",s),...n})});o.displayName="TableHeader";let i=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("tbody",{ref:t,className:(0,a.cn)("[&_tr:last-child]:border-0",s),...n})});i.displayName="TableBody",n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("tfoot",{ref:t,className:(0,a.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",s),...n})}).displayName="TableFooter";let c=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("tr",{ref:t,className:(0,a.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",s),...n})});c.displayName="TableRow";let d=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("th",{ref:t,className:(0,a.cn)("h-12 px-4 text-left align-middle font-medium text-[hsl(var(--text-strong))] [&:has([role=checkbox])]:pr-0",s),...n})});d.displayName="TableHead";let m=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("td",{ref:t,className:(0,a.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",s),...n})});m.displayName="TableCell",n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("caption",{ref:t,className:(0,a.cn)("mt-4 text-base text-muted-foreground",s),...n})}).displayName="TableCaption"},23001:function(e,t,s){"use strict";s.d(t,{X:function(){return n}});var r=s(67294);function n(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:768,[t,s]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let t=()=>{s(window.innerWidth<e)};return t(),window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}},[e]),t}},84303:function(e,t,s){"use strict";s.d(t,{_q:function(){return a},pJ:function(){return i}});var r=s(1272);let n={lineWidth:-1,quotingType:"'",forceQuotes:!1,noRefs:!0,sortKeys:!1,condenseFlow:!1,indent:2},a=e=>{if(!e)return"No YAML available";try{let t=r.ZP.load(e),s=r.ZP.dump(t,n).split("\n"),a=[],l=-1;for(let e=0;e<s.length;e++){let t=s[e],r=t.search(/\S/);0===r&&l>=0&&e>0&&a.push(""),a.push(t),l=r}return a.join("\n").trim()}catch(t){return console.error("YAML formatting error:",t),e}},l=e=>"string"==typeof e?e.substring(0,50)+"...":e&&e.name?e.name:e&&e.resources?"Task configuration":"YAML document",o=(e,t)=>{try{let s=r.ZP.load(e),a=r.ZP.dump(s,n).split("\n"),o=[],i=-1;for(let e=0;e<a.length;e++){let t=a[e],s=t.search(/\S/);0===s&&i>=0&&e>0&&o.push(""),o.push(t),i=s}return{index:t,content:o.join("\n").trim(),preview:l(s)}}catch(s){return console.error("YAML formatting error for document ".concat(t,":"),s),{index:t,content:e,preview:"Invalid YAML"}}},i=e=>{if(!e)return[];try{let t=[],s=e.split(/^---$/m);for(let e=0;e<s.length;e++){let r=s[e].trim();r&&""!==r&&t.push(r)}return(t.length>1?t.slice(1):t).map((e,t)=>o(e,t))}catch(t){return console.error("YAML formatting error:",t),[{index:0,content:e,preview:"Invalid YAML"}]}}},88099:function(e,t,s){"use strict";s.r(t);var r=s(85893),n=s(67294),a=s(55739),l=s(11163),o=s(37673),i=s(68764),c=s(62935),d=s(68969),m=s(41664),u=s.n(m),x=s(13626),h=s(16826),g=s(45895),f=s(6639),j=s(70282),p=s(27325),b=s(470),N=s(99307),v=s(8686),y=s(23001),w=s(9008),k=s.n(w),_=s(84303),L=s(20546),S=s(1125),C=s(6378),T=s(55988),E=s(17853),I=s(41825),M=s(21494),R=s(45697),A=s.n(R);function P(e){let{jobId:t,detailJobData:s,isLoadingControllerLogs:a,handleControllerLogsRefresh:l,setIsLoadingControllerLogs:i,setIsLoadingLogs:c,refreshControllerLogsFlag:m,poolsData:u}=e,j="skypilot-controller-logs-expanded",[p,N]=(0,n.useState)(()=>"true"===localStorage.getItem(j));return(0,r.jsx)("div",{id:"controller-logs-section",className:"mt-6",children:(0,r.jsxs)(o.Zb,{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between px-4 ".concat(p?"pt-4":"py-4"),children:[(0,r.jsxs)("button",{onClick:()=>{let e=!p;N(e),localStorage.setItem(j,String(e))},className:"flex items-center text-left focus:outline-none hover:text-gray-700 transition-colors duration-200",children:[p?(0,r.jsx)(g.Z,{className:"w-5 h-5 mr-2"}):(0,r.jsx)(f.Z,{className:"w-5 h-5 mr-2"}),(0,r.jsx)("h3",{className:"text-lg font-semibold",children:"Controller Logs"}),(0,r.jsx)("span",{className:"ml-2 text-xs text-gray-500",children:"(Logs are not streaming; click refresh to fetch the latest logs.)"})]}),p&&(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)(b.WH,{content:"Download full controller logs",className:"text-muted-foreground",children:(0,r.jsx)("button",{onClick:()=>(0,d.jh)({jobId:parseInt(Array.isArray(t)?t[0]:t),controller:!0}),className:"text-sky-blue hover:text-sky-blue-bright flex items-center",children:(0,r.jsx)(h.Z,{className:"w-4 h-4"})})}),(0,r.jsx)(b.WH,{content:"Refresh controller logs",className:"text-muted-foreground",children:(0,r.jsx)("button",{onClick:l,disabled:a,className:"text-sky-blue hover:text-sky-blue-bright flex items-center",children:(0,r.jsx)(x.Z,{className:"w-4 h-4 ".concat(a?"animate-spin":"")})})})]})]}),p&&(0,r.jsx)("div",{className:"p-4",children:(0,r.jsx)(D,{jobData:s,activeTab:"controllerlogs",setIsLoadingLogs:c,setIsLoadingControllerLogs:i,isLoadingLogs:!1,isLoadingControllerLogs:a,refreshFlag:m,poolsData:u})})]})})}let Z={"W&B Run":/^https:\/\/wandb\.ai\/[^\/]+\/[^\/]+\/runs\/[^\/]+$/};function D(e){let{jobData:t,allTasks:s=[],activeTab:l,setIsLoadingLogs:o,setIsLoadingControllerLogs:i,isLoadingLogs:c,isLoadingControllerLogs:m,refreshFlag:x,poolsData:h,links:v,logExtractedLinks:y,onLinksExtracted:w,selectedTaskIndex:k=null,onTaskChange:C=null,selectedNode:E="all",onNodesExtracted:I=null}=e,[R,A]=(0,n.useState)(!1),[P,D]=(0,n.useState)({}),[O,q]=(0,n.useState)(!1),[B,F]=(0,n.useState)(!1),[W,H]=(0,n.useState)(!1),U=(0,n.useRef)(null),G=(0,n.useRef)(null),J=(0,n.useCallback)(e=>{let t="logs"===e?U:G;if(t.current)for(let s of[()=>t.current.querySelector(".logs-container"),()=>t.current.querySelector('[class*="logs-container"]'),()=>t.current.querySelector('div[style*="overflow"]'),()=>t.current]){let t=s();if(t&&t.scrollHeight>t.clientHeight){t.scrollTop=t.scrollHeight,console.log("Auto-scrolled ".concat(e," to bottom"));break}}},[]),Y=["PENDING","SUBMITTED","STARTING"].includes(t.status),z=["PENDING","SUBMITTED"].includes(t.status),$=["RECOVERING"].includes(t.status),K=(0,n.useMemo)(()=>s.length>1?(0,d._5)(s):t.status,[s,t.status]),Q=e=>{D(t=>({...t,[e]:!t[e]}))},V=async()=>{try{let e=(0,_.pJ)(t.dag_yaml),s=t.name||t.execution?[t.name?"name: ".concat(t.name):null,t.execution?"execution: ".concat(t.execution):null].filter(Boolean).join("\n")+"\n---\n":"",r="";r=1===e.length?s+e[0].content:e.length>1?s+e.map(e=>e.content).join("\n---\n"):s+t.dag_yaml,await navigator.clipboard.writeText(r),F(!0),setTimeout(()=>F(!1),2e3)}catch(e){console.error("Failed to copy YAML to clipboard:",e)}},X=async()=>{try{await navigator.clipboard.writeText(t.entrypoint),H(!0),setTimeout(()=>H(!1),2e3)}catch(e){console.error("Failed to copy command to clipboard:",e)}},ee=(0,n.useMemo)(()=>({jobId:t.id,controller:!1,task:k}),[t.id,k]),et=(0,n.useMemo)(()=>({jobId:t.id,controller:!0}),[t.id]),es=(0,n.useCallback)(e=>{console.error("Error streaming logs:",e)},[]),er=(0,n.useCallback)(e=>{console.error("Error streaming controller logs:",e)},[]),{lines:en,isLoading:ea,hasReceivedFirstChunk:el}=(0,M.V)({streamFn:d.NJ,streamArgs:ee,enabled:"logs"===l&&!Y&&!$,refreshTrigger:"logs"===l?x:0,onError:es}),{lines:eo,isLoading:ei,hasReceivedFirstChunk:ec}=(0,M.V)({streamFn:d.NJ,streamArgs:et,enabled:"controllerlogs"===l&&!z,refreshTrigger:"controllerlogs"===l?x:0,onError:er});(0,n.useEffect)(()=>{o(ea)},[ea,o]),(0,n.useEffect)(()=>{i(ei)},[ei,i]),(0,n.useEffect)(()=>{if(I&&en.length>0){let e=en.join("\n");I((0,b.$N)(e))}},[en,I]);let ed=(0,n.useRef)({}),em=(0,n.useMemo)(()=>{let e={...ed.current},t=new Set(Object.keys(e));for(let s of en){if(t.size===Object.keys(Z).length)break;for(let r of s.split(/[\s"'<>()[\]{},;]+/)){let s=r.replace(/[.,:;!?]+$/,"");if(s){for(let[r,n]of Object.entries(Z))if(!t.has(r)&&n.test(s)){e[r]=s,t.add(r);break}}}}return ed.current=e,e},[en]);(0,n.useEffect)(()=>{w&&Object.keys(em).length>0&&w(em)},[em,w]);let eu=(0,n.useMemo)(()=>{let e={...v||{}};for(let[t,s]of Object.entries(y||em))e[t]||(e[t]=s);return e},[v,em,y]);return((0,n.useEffect)(()=>{let e=()=>{("logs"===l&&en.length||"controllerlogs"===l&&eo.length)&&J("logs"===l?"logs":"controllerlogs")};requestAnimationFrame(()=>{requestAnimationFrame(e)})},[l,en,eo,J]),"logs"===l)?(0,r.jsx)("div",{className:"max-h-96 overflow-y-auto",ref:U,children:Y?(0,r.jsx)("div",{className:"bg-[#f7f7f7] flex items-center justify-center py-4 text-gray-500",children:(0,r.jsx)("span",{children:"Waiting for the job to start; refresh in a few moments."})}):$?(0,r.jsx)("div",{className:"bg-[#f7f7f7] flex items-center justify-center py-4 text-gray-500",children:(0,r.jsx)("span",{children:"Waiting for the job to recover; refresh in a few moments."})}):(0,r.jsx)(b.$B,{logs:en,isLoading:c&&!el&&!en.length,selectedNode:E})}):"controllerlogs"===l?(0,r.jsx)("div",{className:"max-h-96 overflow-y-auto",ref:G,children:z?(0,r.jsx)("div",{className:"bg-[#f7f7f7] flex items-center justify-center py-4 text-gray-500",children:(0,r.jsx)("span",{children:"Waiting for the job controller process to start; refresh in a few moments."})}):ec||eo.length?(0,r.jsx)(b.$B,{logs:eo,controller:!0}):m?(0,r.jsxs)("div",{className:"flex items-center justify-center py-4",children:[(0,r.jsx)(a.Z,{size:20,className:"mr-2"}),(0,r.jsx)("span",{children:"Loading logs..."})]}):(0,r.jsx)(b.$B,{logs:eo,controller:!0})}):(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-gray-600 font-medium text-base",children:"Job ID (Name)"}),(0,r.jsxs)("div",{className:"text-base mt-1 flex items-center gap-2",children:[(0,r.jsxs)("span",{children:[t.id," ",t.name?"(".concat(t.name,")"):""]}),t.is_job_group&&(0,r.jsx)("span",{className:"px-2 py-0.5 rounded text-xs font-medium bg-gray-200 text-gray-700",children:"JobGroup"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-gray-600 font-medium text-base",children:"Status"}),(0,r.jsx)("div",{className:"text-base mt-1",children:(0,r.jsx)(T.j,{name:"jobs.detail.status.badge",context:t,fallback:(0,r.jsx)(N.OE,{status:K})})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-gray-600 font-medium text-base",children:"User"}),(0,r.jsx)("div",{className:"text-base mt-1",children:(0,r.jsx)(L.H,{username:t.user,userHash:t.user_hash})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-gray-600 font-medium text-base",children:"Workspace"}),(0,r.jsx)("div",{className:"text-base mt-1",children:(0,r.jsx)(u(),{href:"/workspaces",className:"text-gray-700 hover:text-blue-600 hover:underline",children:t.workspace||"default"})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-gray-600 font-medium text-base",children:"Submitted"}),(0,r.jsx)("div",{className:"text-base mt-1",children:t.submitted_at?(0,b.xn)(t.submitted_at):"N/A"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-gray-600 font-medium text-base",children:"Requested Resources"}),(0,r.jsx)("div",{className:"text-base mt-1",children:s.length>1?(0,r.jsx)(b.Md,{content:"Aggregated from ".concat(s.length," tasks:\n").concat(s.map((e,t)=>"Task ".concat(t).concat(e.task?" (".concat(e.task,")"):"",": ").concat(e.requested_resources||e.resources_str||"N/A")).join("\n")),className:"text-sm text-muted-foreground",children:(0,r.jsx)("span",{className:"cursor-help border-b border-dotted border-gray-400",children:(()=>{let e=s.map(e=>e.requested_resources||e.resources_str).filter(Boolean),t=[...new Set(e)];return 1===t.length?"".concat(t[0]," (x").concat(s.length," tasks)"):"".concat(e[0]," (+").concat(s.length-1," more)")})()})}):t.requested_resources||"N/A"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-gray-600 font-medium text-base",children:"Infra"}),(0,r.jsx)("div",{className:"text-base mt-1",children:t.infra?(0,r.jsx)(b.Md,{content:t.full_infra||t.infra,className:"text-sm text-muted-foreground",children:(0,r.jsxs)("span",{children:[(0,r.jsx)(u(),{href:"/infra",className:"text-blue-600 hover:underline",children:t.cloud||t.infra.split("(")[0].trim()}),t.infra.includes("(")&&(0,r.jsx)("span",{children:" "+t.infra.substring(t.infra.indexOf("("))})]})}):"-"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-gray-600 font-medium text-base",children:"Resources"}),(0,r.jsx)("div",{className:"text-base mt-1",children:t.resources_str_full||t.resources_str||"-"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-gray-600 font-medium text-base",children:"Git Commit"}),(0,r.jsx)("div",{className:"text-base mt-1 flex items-center",children:t.git_commit&&"-"!==t.git_commit?(0,r.jsxs)("span",{className:"flex items-center mr-2",children:[t.git_commit,(0,r.jsx)(b.WH,{content:B?"Copied!":"Copy commit",className:"text-muted-foreground",children:(0,r.jsx)("button",{onClick:async()=>{await navigator.clipboard.writeText(t.git_commit),F(!0),setTimeout(()=>F(!1),2e3)},className:"flex items-center text-gray-500 hover:text-gray-700 transition-colors duration-200 p-1 ml-2",children:B?(0,r.jsx)(j.Z,{className:"w-4 h-4 text-green-600"}):(0,r.jsx)(p.Z,{className:"w-4 h-4"})})})]}):(0,r.jsx)("span",{className:"text-gray-400",children:"-"})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-gray-600 font-medium text-base",children:"Pool"}),(0,r.jsx)("div",{className:"text-base mt-1",children:(0,b.os)(t.pool,t.pool_hash,h)})]}),(0,r.jsxs)("div",{className:"col-span-2",children:[(0,r.jsx)("div",{className:"text-gray-600 font-medium text-base",children:"External Links"}),(0,r.jsx)("div",{className:"text-base mt-1",children:eu&&Object.keys(eu).length>0?(0,r.jsx)("div",{className:"flex flex-wrap gap-4",children:Object.entries(eu).map(e=>{let[t,s]=e,n=s.startsWith("http://")||s.startsWith("https://")?s:"https://".concat(s);return(0,r.jsx)("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 hover:underline",children:t},t)})}):(0,r.jsx)("span",{className:"text-gray-400",children:"-"})})]}),t.details&&(0,r.jsx)(T.j,{name:"jobs.detail.queue_details",context:{details:t.details,queueName:t.kueue_queue_name,infra:t.full_infra,jobData:t,title:"Queue Details"}}),(t.entrypoint||t.dag_yaml)&&(0,r.jsxs)("div",{className:"col-span-2",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"text-gray-600 font-medium text-base",children:"Entrypoint"}),t.entrypoint&&(0,r.jsx)(b.WH,{content:W?"Copied!":"Copy command",className:"text-muted-foreground",children:(0,r.jsx)("button",{onClick:X,className:"flex items-center text-gray-500 hover:text-gray-700 transition-colors duration-200 p-1 ml-2",children:W?(0,r.jsx)(j.Z,{className:"w-4 h-4 text-green-600"}):(0,r.jsx)(p.Z,{className:"w-4 h-4"})})})]}),(0,r.jsxs)("div",{className:"space-y-4 mt-3",children:[t.entrypoint&&(0,r.jsx)("div",{children:(0,r.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded-md p-3",children:(0,r.jsx)("code",{className:"text-sm text-gray-800 font-mono break-all",children:t.entrypoint})})}),t.dag_yaml&&"{}"!==t.dag_yaml&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center mb-2",children:[(0,r.jsxs)("button",{onClick:()=>{A(!R)},className:"flex items-center text-left focus:outline-none text-gray-700 hover:text-gray-900 transition-colors duration-200",children:[R?(0,r.jsx)(g.Z,{className:"w-4 h-4 mr-1"}):(0,r.jsx)(f.Z,{className:"w-4 h-4 mr-1"}),(0,r.jsx)("span",{className:"text-base",children:"Show SkyPilot YAML"})]}),(0,r.jsx)(b.WH,{content:B?"Copied!":"Copy YAML",className:"text-muted-foreground",children:(0,r.jsx)("button",{onClick:V,className:"flex items-center text-gray-500 hover:text-gray-700 transition-colors duration-200 p-1 ml-2",children:B?(0,r.jsx)(j.Z,{className:"w-4 h-4 text-green-600"}):(0,r.jsx)(p.Z,{className:"w-4 h-4"})})})]}),R&&(0,r.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded-md p-3 max-h-96 overflow-y-auto",children:(()=>{let e=(0,_.pJ)(t.dag_yaml),s=t.name||t.execution?[t.name?"name: ".concat(t.name):null,t.execution?"execution: ".concat(t.execution):null].filter(Boolean).join("\n")+"\n---\n":"";return 0===e.length?(0,r.jsx)("div",{className:"text-gray-500",children:"No YAML available"}):1===e.length?(0,r.jsx)(S.C,{className:"whitespace-pre-wrap",children:s+e[0].content}):(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4 pb-2 border-b border-gray-200",children:[(0,r.jsx)("button",{onClick:()=>q(!1),className:"text-sm px-2 py-1 rounded ".concat(O?"text-gray-600 hover:text-gray-800":"bg-blue-100 text-blue-700"),children:"By Job"}),(0,r.jsx)("button",{onClick:()=>q(!0),className:"text-sm px-2 py-1 rounded ".concat(O?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-800"),children:"Full YAML"})]}),O?(0,r.jsx)(S.C,{className:"whitespace-pre-wrap",children:s+e.map(e=>e.content).join("\n---\n")}):e.map((e,t)=>(0,r.jsxs)("div",{className:"border-b border-gray-200 pb-4 last:border-b-0",children:[(0,r.jsx)("button",{onClick:()=>Q(t),className:"flex items-center justify-between w-full text-left focus:outline-none",children:(0,r.jsxs)("div",{className:"flex items-center",children:[P[t]?(0,r.jsx)(g.Z,{className:"w-4 h-4 mr-2"}):(0,r.jsx)(f.Z,{className:"w-4 h-4 mr-2"}),(0,r.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:["Job ",t+1,": ",e.preview]})]})}),P[t]&&(0,r.jsx)("div",{className:"mt-3 ml-6",children:(0,r.jsx)(S.C,{className:"whitespace-pre-wrap",children:e.content})})]},t))]})})()})]})]})]})]})}D.propTypes={jobData:A().shape({id:A().oneOfType([A().string,A().number]),name:A().oneOfType([A().string,A().number]),status:A().string,user:A().string,user_hash:A().string,workspace:A().string,submitted_at:A().oneOfType([A().string,A().number,A().instanceOf(Date)]),requested_resources:A().string,infra:A().string,full_infra:A().string,cloud:A().string,resources_str_full:A().string,resources_str:A().string,git_commit:A().string,pool:A().string,pool_hash:A().string,entrypoint:A().string,dag_yaml:A().string}),allTasks:A().array,activeTab:A().string,setIsLoadingLogs:A().func,setIsLoadingControllerLogs:A().func,isLoadingLogs:A().bool,isLoadingControllerLogs:A().bool,refreshFlag:A().number,poolsData:A().array,links:A().object,logExtractedLinks:A().object,onLinksExtracted:A().func,selectedTaskIndex:A().number,onTaskChange:A().func},t.default=function(){var e,t,s,m,g,f,j;let p=(0,l.useRouter)(),{job:w,tab:_}=p.query,[L,S]=(0,n.useState)(0),{jobData:M,loading:R}=(0,d.UA)(w,L),[A,Z]=(0,n.useState)([]),[O,q]=(0,n.useState)(!1),[B,F]=(0,n.useState)(!0),[W,H]=(0,n.useState)(!1),[U,G]=(0,n.useState)(!1),[J,Y]=(0,n.useState)(!1),[z,$]=(0,n.useState)(!1),[K,Q]=(0,n.useState)(!1),[V,X]=(0,n.useState)(0),[ee,et]=(0,n.useState)(0),[es,er]=(0,n.useState)(0),[en,ea]=(0,n.useState)("all"),[el,eo]=(0,n.useState)([]),[ei,ec]=(0,n.useState)({}),ed=(0,y.X)(),[em,eu]=(0,n.useState)(!1),[ex,eh]=(0,n.useState)(0);n.useEffect(()=>{!R&&B&&F(!1)},[R,B]),(0,n.useEffect)(()=>{(async function(){try{let e=await C.ZP.get(d.vs,[{}]);Z(e.pools||[])}catch(e){console.error("Error fetching pools data:",e),Z([])}})()},[]),(0,n.useEffect)(()=>{(async()=>{eu(await (0,E.TO)())})()},[]);let eg=e=>{let t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth"})};(0,n.useEffect)(()=>{$(!0)},[]),(0,n.useEffect)(()=>{if(!K){let e=new MutationObserver(()=>{let t=document.getElementById("logs-section"),s=document.getElementById("controller-logs-section");("logs"===_&&t||"controllerlogs"===_&&s)&&(Q(!0),e.disconnect())});return e.observe(document.body,{childList:!0,subtree:!0}),()=>e.disconnect()}},[K,_]),(0,n.useEffect)(()=>{if(p.isReady&&z&&K&&!J){let e=setTimeout(()=>{"logs"===_?(eg("logs-section"),Y(!0)):"controllerlogs"===_&&(eg("controller-logs-section"),Y(!0))},800);return()=>clearTimeout(e)}},[p.isReady,_,J,z,K]),(0,n.useEffect)(()=>{Y(!1),Q(!1)},[_]);let ef=async()=>{q(!0);try{S(e=>e+1),X(e=>e+1),et(e=>e+1),setGpuMetricsRefreshTrigger(e=>e+1)}catch(e){console.error("Error refreshing data:",e)}finally{q(!1)}},ej=(0,n.useMemo)(()=>{var e;return(null==M?void 0:null===(e=M.jobs)||void 0===e?void 0:e.filter(e=>String(e.id)===String(w)))||[]},[M,w]),ep=(0,n.useMemo)(()=>ej.map((e,t)=>{var s;return{index:t,task:e,hasMetrics:(null===(s=e.full_infra)||void 0===s?void 0:s.includes("Kubernetes"))&&!e.pool&&e.cluster_name_on_cloud}}),[ej]),eb=ep.some(e=>e.hasMetrics),eN=ej[ex]||ej[0],ev=(null==eN?void 0:eN.cluster_name_on_cloud)||(null===(e=ej[0])||void 0===e?void 0:e.cluster_name_on_cloud);if(!p.isReady)return(0,r.jsx)("div",{children:"Loading..."});let ey=(null==M?void 0:null===(t=M.jobs)||void 0===t?void 0:t.filter(e=>String(e.id)===String(w)))||[],ew=ey.length>0?ey[0]:null,ek=ey.length>1,e_=(null===(s=ey.find(e=>e.dag_yaml))||void 0===s?void 0:s.dag_yaml)||(null==ew?void 0:ew.dag_yaml),eL=(null===(m=ey.find(e=>e.entrypoint))||void 0===m?void 0:m.entrypoint)||(null==ew?void 0:ew.entrypoint),eS=(null===(g=ey.find(e=>e.is_job_group))||void 0===g?void 0:g.is_job_group)||(null==ew?void 0:ew.is_job_group)||ey.length>1,eC=(null===(f=ey.find(e=>e.execution))||void 0===f?void 0:f.execution)||(null==ew?void 0:ew.execution)||(ek?"parallel":null),eT=ew?{...ew,dag_yaml:e_,entrypoint:eL,execution:eC,is_job_group:eS}:null,eE=w?"Job: ".concat(w," | SkyPilot Dashboard"):"Job Details | SkyPilot Dashboard";return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(k(),{children:(0,r.jsx)("title",{children:eE})}),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsxs)("div",{className:"text-base flex items-center",children:[(0,r.jsx)(u(),{href:"/jobs",className:"text-sky-blue hover:underline",children:"Managed Jobs"}),(0,r.jsx)("span",{className:"mx-2 text-gray-500",children:"›"}),(0,r.jsxs)(u(),{href:"/jobs/".concat(w),className:"text-sky-blue hover:underline",children:[w," ",(null==ew?void 0:ew.name)?"(".concat(ew.name,")"):"",ek&&(0,r.jsxs)("span",{className:"ml-2 text-xs text-gray-500 bg-gray-200 px-1.5 py-0.5 rounded",children:[ey.length," tasks"]})]})]}),(0,r.jsxs)("div",{className:"text-sm flex items-center",children:[(R||O||W||U)&&(0,r.jsxs)("div",{className:"flex items-center mr-4",children:[(0,r.jsx)(a.Z,{size:15,className:"mt-0"}),(0,r.jsx)("span",{className:"ml-2 text-gray-500",children:"Loading..."})]}),(0,r.jsx)(b.WH,{content:"Refresh",className:"text-muted-foreground",children:(0,r.jsxs)("button",{onClick:ef,disabled:R||O,className:"text-sky-blue hover:text-sky-blue-bright font-medium inline-flex items-center h-8",children:[(0,r.jsx)(x.Z,{className:"w-4 h-4 mr-1.5"}),!ed&&(0,r.jsx)("span",{children:"Refresh"})]})})]})]}),R&&B?(0,r.jsxs)("div",{className:"flex items-center justify-center py-32",children:[(0,r.jsx)(a.Z,{size:20,className:"mr-2"}),(0,r.jsx)("span",{children:"Loading..."})]}):ew?(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsx)("div",{id:"details-section",children:(0,r.jsxs)(o.Zb,{children:[(0,r.jsx)("div",{className:"flex items-center justify-between px-4 pt-4",children:(0,r.jsx)("h3",{className:"text-lg font-semibold",children:"Details"})}),(0,r.jsx)("div",{className:"p-4",children:(0,r.jsx)(D,{jobData:eT,allTasks:ey,activeTab:"info",setIsLoadingLogs:H,setIsLoadingControllerLogs:G,isLoadingLogs:W,isLoadingControllerLogs:U,refreshFlag:0,poolsData:A,links:null==eT?void 0:eT.links,logExtractedLinks:ei,onLinksExtracted:ec})})]})}),ek&&(0,r.jsx)("div",{id:"tasks-section",className:"mt-6",children:(0,r.jsxs)(o.Zb,{children:[(0,r.jsx)("div",{className:"flex items-center justify-between px-4 pt-4",children:(0,r.jsxs)("h3",{className:"text-lg font-semibold flex items-center",children:["Tasks",(0,r.jsxs)("span",{className:"ml-2 text-sm font-normal text-gray-500",children:["(",ey.length," tasks)"]})]})}),(0,r.jsx)("div",{className:"p-4",children:(0,r.jsx)("div",{className:"overflow-x-auto rounded-lg border",children:(0,r.jsxs)(i.iA,{className:"min-w-full",children:[(0,r.jsx)(i.xD,{children:(0,r.jsxs)(i.SC,{children:[(0,r.jsx)(i.ss,{className:"whitespace-nowrap",children:"ID"}),(0,r.jsx)(i.ss,{className:"whitespace-nowrap",children:"Name"}),(0,r.jsx)(i.ss,{className:"whitespace-nowrap",children:"Status"}),(0,r.jsx)(i.ss,{className:"whitespace-nowrap",children:"Duration"}),(0,r.jsx)(i.ss,{className:"whitespace-nowrap",children:"Infra"}),(0,r.jsx)(i.ss,{className:"whitespace-nowrap",children:"Resources"}),(0,r.jsx)(i.ss,{className:"whitespace-nowrap",children:"Recoveries"}),(0,r.jsx)(i.ss,{className:"whitespace-nowrap",children:"Logs"})]})}),(0,r.jsx)(i.RM,{children:ey.map((e,t)=>(0,r.jsxs)(i.SC,{className:"hover:bg-gray-50",children:[(0,r.jsx)(i.pj,{children:(0,r.jsx)(u(),{href:"/jobs/".concat(w,"/").concat(t),className:"text-blue-600 hover:underline",children:t})}),(0,r.jsx)(i.pj,{children:(0,r.jsxs)(u(),{href:"/jobs/".concat(w,"/").concat(t),className:"text-blue-600 hover:underline",children:[e.task||"Job ".concat(t),ey.some(e=>!1===e.is_primary_in_job_group)&&!0===e.is_primary_in_job_group&&(0,r.jsx)("span",{className:"ml-1.5",children:(0,r.jsx)(v.N,{})})]})}),(0,r.jsx)(i.pj,{children:(0,r.jsx)(N.OE,{status:e.status})}),(0,r.jsx)(i.pj,{children:(0,b.LU)(e.job_duration)}),(0,r.jsx)(i.pj,{children:e.infra&&"-"!==e.infra?(0,r.jsx)(b.Md,{content:e.full_infra||e.infra,className:"text-sm text-muted-foreground",children:(0,r.jsxs)("span",{children:[e.cloud||e.infra.split("(")[0].trim(),e.infra.includes("(")&&(0,r.jsx)("span",{className:"text-gray-500",children:" "+e.infra.substring(e.infra.indexOf("("))})]})}):(0,r.jsx)("span",{children:"-"})}),(0,r.jsx)(i.pj,{children:(0,r.jsx)(b.Md,{content:e.requested_resources||e.resources_str_full||e.resources_str||"-",className:"text-sm text-muted-foreground",children:(0,r.jsx)("span",{children:e.requested_resources||e.resources_str||"-"})})}),(0,r.jsx)(i.pj,{children:e.recoveries||0}),(0,r.jsx)(i.pj,{children:(0,r.jsx)(b.WH,{content:"Download job logs",className:"text-muted-foreground",children:(0,r.jsx)("button",{onClick:()=>(0,d.jh)({jobId:parseInt(w),controller:!1}),className:"text-sky-blue hover:text-sky-blue-bright",children:(0,r.jsx)(h.Z,{className:"w-4 h-4"})})})})]},e.task_job_id))})]})})})]})}),em&&eb&&(0,r.jsx)(I.l,{clusterNameOnCloud:ev,displayName:ek?"".concat((null==eN?void 0:eN.task)||(null==eN?void 0:eN.name)||ew.name," (Task ").concat(ex,")"):(null==eN?void 0:eN.task)||(null==eN?void 0:eN.name)||ew.name,storageKey:"skypilot-jobs-gpu-metrics-expanded",noMetricsMessage:(null==eN?void 0:eN.pool)?"GPU metrics are not available for pool jobs.":(null==eN?void 0:null===(j=eN.full_infra)||void 0===j?void 0:j.includes("Kubernetes"))?"No GPU metrics available for this task.":"GPU metrics are only available for Kubernetes tasks.",headerExtra:ek&&(0,r.jsxs)(c.Ph,{onValueChange:e=>eh(parseInt(e,10)),value:String(ex),children:[(0,r.jsx)(c.i4,{onClick:e=>e.stopPropagation(),"aria-label":"Task",className:"focus:ring-0 focus:ring-offset-0 h-8 w-auto min-w-[160px] text-sm ml-4",children:(0,r.jsx)(c.ki,{placeholder:"Select Task"})}),(0,r.jsx)(c.Bw,{children:ep.map(e=>{let{index:t,task:s,hasMetrics:n}=e;return(0,r.jsxs)(c.Ql,{value:String(t),disabled:!n,children:["Task ",t,s.task?": ".concat(s.task):"",n?"":" (no metrics)"]},t)})})]})}),(0,r.jsx)("div",{id:"logs-section",className:"mt-6",children:(0,r.jsxs)(o.Zb,{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between px-4 pt-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold",children:"Logs"}),ek&&(0,r.jsxs)(c.Ph,{onValueChange:e=>er(parseInt(e,10)),value:String(es),children:[(0,r.jsx)(c.i4,{"aria-label":"Task",className:"focus:ring-0 focus:ring-offset-0 h-8 w-auto min-w-[160px] text-sm",children:(0,r.jsx)(c.ki,{placeholder:"Select Task"})}),(0,r.jsx)(c.Bw,{children:ey.map((e,t)=>(0,r.jsxs)(c.Ql,{value:String(t),children:["Task ",t,e.task?": ".concat(e.task):""]},e.task_job_id||t))})]}),(0,r.jsxs)(c.Ph,{onValueChange:e=>ea(e),value:en,children:[(0,r.jsx)(c.i4,{"aria-label":"Node",className:"focus:ring-0 focus:ring-offset-0 h-8 w-auto min-w-[120px] text-sm",children:(0,r.jsx)(c.ki,{placeholder:"All Nodes"})}),(0,r.jsxs)(c.Bw,{children:[(0,r.jsx)(c.Ql,{value:"all",children:"All Nodes"}),el.map(e=>(0,r.jsx)(c.Ql,{value:e,children:e},e))]})]}),(0,r.jsx)("span",{className:"text-xs text-gray-500",children:"(Logs are not streaming; click refresh to fetch the latest logs.)"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)(b.WH,{content:"Download all job logs (zip)",className:"text-muted-foreground",children:(0,r.jsx)("button",{onClick:()=>(0,d.jh)({jobId:parseInt(Array.isArray(w)?w[0]:w),controller:!1}),className:"text-sky-blue hover:text-sky-blue-bright flex items-center",children:(0,r.jsx)(h.Z,{className:"w-4 h-4"})})}),(0,r.jsx)(b.WH,{content:"Refresh logs",className:"text-muted-foreground",children:(0,r.jsx)("button",{onClick:()=>{X(e=>e+1)},disabled:W,className:"text-sky-blue hover:text-sky-blue-bright flex items-center",children:(0,r.jsx)(x.Z,{className:"w-4 h-4 ".concat(W?"animate-spin":"")})})})]})]}),(0,r.jsx)("div",{className:"p-4",children:(0,r.jsx)(D,{jobData:ek?ey[es]:ew,allTasks:ey,activeTab:"logs",setIsLoadingLogs:H,setIsLoadingControllerLogs:G,isLoadingLogs:W,isLoadingControllerLogs:U,refreshFlag:V,poolsData:A,selectedTaskIndex:ek?es:null,selectedNode:en,onNodesExtracted:eo,onLinksExtracted:ec})})]})}),(0,r.jsx)(T.j,{name:"jobs.detail.events",context:{jobId:ew.id},wrapperClassName:"mt-6"}),(0,r.jsx)(P,{jobId:w,detailJobData:ew,isLoadingControllerLogs:U,handleControllerLogsRefresh:()=>{et(e=>e+1)},setIsLoadingControllerLogs:G,setIsLoadingLogs:H,refreshControllerLogsFlag:ee,poolsData:A})]}):(0,r.jsx)("div",{className:"flex items-center justify-center py-32",children:(0,r.jsx)("span",{children:"Job not found"})})]})]})}},55988:function(e,t,s){"use strict";s.d(t,{j:function(){return a}});var r=s(85893);s(67294);var n=s(23800);function a(e){let{name:t,context:s={},fallback:a=null,wrapperClassName:l=""}=e,o=(0,n.dL)(t);return 0===o.length?a:(0,r.jsx)("div",{className:l||void 0,children:o.map(e=>{let t=e.component;return(0,r.jsx)(t,{...s},e.id)})})}}},function(e){e.O(0,[5739,1272,1417,3850,9224,6612,2888,9774,179],function(){return e(e.s=40479)}),_N_E=e.O()}]);